{% extends "base.html" %}

{% block title %}Add New House{% endblock %}

{% block content %}
<section class="py-12 bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-2xl"> {# Limit width #}

        <h1 class="text-2xl md:text-3xl font-bold mb-6 text-warm-brown-config text-center">
            Add a New House
        </h1>
        {% if error_messages %}
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6" role="alert">
                <strong class="font-bold">Error:</strong>
                <ul class="list-disc list-inside mt-1">
                    {% for field, errors in error_messages.items() %}
                        {% for error in errors %}
                            <li>{{ field.replace('_', ' ').title() }}: {{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                    {% if error_messages.get('_generic_') %}
                         <li>{{ error_messages['_generic_'][0] }}</li>
                    {% endif %}
                </ul>
            </div>
        {% endif %}

        <div class="bg-white shadow rounded-lg p-6 sm:p-8">
            <form action="/houses/new" method="post">

                <div class="mb-4">
                    <label for="floors" class="block text-sm font-medium text-warm-brown-config mb-1">Number of Floors</label>
                    <input type="number" id="floors" name="floors" required min="1" step="1" value="{{ form_data.floors if form_data else '' }}"
                           class="w-full px-3 py-2 border border-amber-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 text-gray-800">
                </div>

                <div class="mb-4">
                    <label for="square_meters" class="block text-sm font-medium text-warm-brown-config mb-1">Area (Square Meters)</label>
                    <input type="number" id="square_meters" name="square_meters" required min="1" step="0.1" value="{{ form_data.square_meters if form_data else '' }}"
                           class="w-full px-3 py-2 border border-amber-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 text-gray-800">
                </div>

                <div class="mb-6">
                    <label for="rooms" class="block text-sm font-medium text-warm-brown-config mb-1">Rooms (comma-separated)</label>
                    <input type="text" id="rooms" name="rooms" required placeholder="e.g., Kitchen, Living Room, Bedroom 1, Bathroom" value="{{ form_data.rooms if form_data else '' }}"
                           class="w-full px-3 py-2 border border-amber-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 text-gray-800">
                    <p class="text-xs text-gray-500 mt-1">Enter the names of the rooms, separated by commas.</p>
                </div>

                <div class="flex items-center justify-between mt-6">
                    <a href="/" class="text-sm text-gray-600 hover:text-amber-700 hover:underline">Cancel</a>
                    <button type="submit" class="bg-amber-700 text-white px-6 py-2 rounded-lg font-bold hover:bg-amber-800 transition shadow">
                        <i class="fas fa-plus mr-2"></i>Add House
                    </button>
                </div>
            </form>
        </div>

    </div>
</section>
{% endblock %}